{"remainingRequest":"C:\\Users\\Soumrak\\Documents\\Proyectos\\Vue\\movie-info\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Soumrak\\Documents\\Proyectos\\Vue\\movie-info\\src\\components\\rating-starts.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Soumrak\\Documents\\Proyectos\\Vue\\movie-info\\src\\components\\rating-starts.vue","mtime":1579622859917},{"path":"C:\\Users\\Soumrak\\Documents\\Proyectos\\Vue\\movie-info\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Soumrak\\Documents\\Proyectos\\Vue\\movie-info\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Soumrak\\Documents\\Proyectos\\Vue\\movie-info\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Soumrak\\Documents\\Proyectos\\Vue\\movie-info\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJzdGFycy1yYXRpbmciLA0KICBjb21wb25lbnRzOiB7fSwNCiAgcHJvcHM6IFsiY29uZmlnIl0sDQogIGRhdGE6IGZ1bmN0aW9uKCkgew0KICAgIHJldHVybiB7DQogICAgICBzdGFyczogW10sDQogICAgICBlbXB0eVN0YXI6IDAsDQogICAgICBmdWxsU3RhcjogMSwNCiAgICAgIHRvdGFsU3RhcnM6IDUsDQogICAgICBpc0luZGljYXRvckFjdGl2ZTogZmFsc2UsDQogICAgICBzdHlsZTogew0KICAgICAgICBmdWxsU3RhckNvbG9yOiAiI2VkOGExOSIsDQogICAgICAgIGVtcHR5U3RhckNvbG9yOiAiIzczNzM3MyIsDQogICAgICAgIHN0YXJXaWR0aDogMjAsDQogICAgICAgIHN0YXJIZWlnaHQ6IDIwDQogICAgICB9LA0KICAgIH07DQogIH0sDQogIGRpcmVjdGl2ZXM6IHt9LA0KICBjb21wdXRlZDogew0KICAgIGdldFN0YXJQb2ludHM6IGZ1bmN0aW9uKCkgew0KICAgICAgbGV0IGNlbnRlclggPSB0aGlzLnN0eWxlLnN0YXJXaWR0aCAvIDI7DQogICAgICBsZXQgY2VudGVyWSA9IHRoaXMuc3R5bGUuc3RhckhlaWdodCAvIDI7DQoNCiAgICAgIGxldCBpbm5lckNpcmNsZUFybXMgPSA1OyAvLyBhIDUgYXJtcyBzdGFyDQoNCiAgICAgIGxldCBpbm5lclJhZGl1cyA9IHRoaXMuc3R5bGUuc3RhcldpZHRoIC8gaW5uZXJDaXJjbGVBcm1zOw0KICAgICAgbGV0IGlubmVyT3V0ZXJSYWRpdXNSYXRpbyA9IDIuNTsgLy8gVW5pcXVlIHZhbHVlIC0gZGV0ZXJtaW5lcyBmYXRuZXNzL3NoYXJwbmVzcyBvZiBzdGFyDQogICAgICBsZXQgb3V0ZXJSYWRpdXMgPSBpbm5lclJhZGl1cyAqIGlubmVyT3V0ZXJSYWRpdXNSYXRpbzsNCg0KICAgICAgcmV0dXJuIHRoaXMuY2FsY1N0YXJQb2ludHMoDQogICAgICAgIGNlbnRlclgsDQogICAgICAgIGNlbnRlclksDQogICAgICAgIGlubmVyQ2lyY2xlQXJtcywNCiAgICAgICAgaW5uZXJSYWRpdXMsDQogICAgICAgIG91dGVyUmFkaXVzDQogICAgICApOw0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGNhbGNTdGFyUG9pbnRzKA0KICAgICAgY2VudGVyWCwNCiAgICAgIGNlbnRlclksDQogICAgICBpbm5lckNpcmNsZUFybXMsDQogICAgICBpbm5lclJhZGl1cywNCiAgICAgIG91dGVyUmFkaXVzDQogICAgKSB7DQogICAgICBsZXQgYW5nbGUgPSBNYXRoLlBJIC8gaW5uZXJDaXJjbGVBcm1zOw0KICAgICAgbGV0IGFuZ2xlT2Zmc2V0VG9DZW50ZXJTdGFyID0gNjA7DQoNCiAgICAgIGxldCB0b3RhbEFybXMgPSBpbm5lckNpcmNsZUFybXMgKiAyOw0KICAgICAgbGV0IHBvaW50cyA9ICIiOw0KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbEFybXM7IGkrKykgew0KICAgICAgICBsZXQgaXNFdmVuSW5kZXggPSBpICUgMiA9PSAwOw0KICAgICAgICBsZXQgciA9IGlzRXZlbkluZGV4ID8gb3V0ZXJSYWRpdXMgOiBpbm5lclJhZGl1czsNCiAgICAgICAgbGV0IGN1cnJYID0gY2VudGVyWCArIE1hdGguY29zKGkgKiBhbmdsZSArIGFuZ2xlT2Zmc2V0VG9DZW50ZXJTdGFyKSAqIHI7DQogICAgICAgIGxldCBjdXJyWSA9IGNlbnRlclkgKyBNYXRoLnNpbihpICogYW5nbGUgKyBhbmdsZU9mZnNldFRvQ2VudGVyU3RhcikgKiByOw0KICAgICAgICBwb2ludHMgKz0gY3VyclggKyAiLCIgKyBjdXJyWSArICIgIjsNCiAgICAgIH0NCiAgICAgIHJldHVybiBwb2ludHM7DQogICAgfSwNCiAgICBpbml0U3RhcnMoKSB7DQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudG90YWxTdGFyczsgaSsrKSB7DQogICAgICAgIHRoaXMuc3RhcnMucHVzaCh7DQogICAgICAgICAgcmF3OiB0aGlzLmVtcHR5U3RhciwNCiAgICAgICAgICBwZXJjZW50OiB0aGlzLmVtcHR5U3RhciArICIlIg0KICAgICAgICB9KTsNCiAgICAgIH0NCiAgICB9LA0KICAgIHNldFN0YXJzKCkgew0KICAgICAgbGV0IGZ1bGxTdGFyc0NvdW50ZXIgPSBNYXRoLmZsb29yKHRoaXMuY29uZmlnLnJhdGluZyk7DQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3RhcnMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgaWYgKGZ1bGxTdGFyc0NvdW50ZXIgIT09IDApIHsNCiAgICAgICAgICB0aGlzLnN0YXJzW2ldLnJhdyA9IHRoaXMuZnVsbFN0YXI7DQogICAgICAgICAgdGhpcy5zdGFyc1tpXS5wZXJjZW50ID0gdGhpcy5jYWxjU3RhckZ1bGxuZXNzKHRoaXMuc3RhcnNbaV0pOw0KICAgICAgICAgIGZ1bGxTdGFyc0NvdW50ZXItLTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBsZXQgc3VycGx1cyA9IE1hdGgucm91bmQoKHRoaXMuY29uZmlnLnJhdGluZyAlIDEpICogMTApIC8gMTA7IC8vIFN1cHBvcnQganVzdCBvbmUgZGVjaW1hbA0KICAgICAgICAgIGxldCByb3VuZGVkT25lRGVjaW1hbFBvaW50ID0gTWF0aC5yb3VuZChzdXJwbHVzICogMTApIC8gMTA7DQogICAgICAgICAgdGhpcy5zdGFyc1tpXS5yYXcgPSByb3VuZGVkT25lRGVjaW1hbFBvaW50Ow0KICAgICAgICAgIHJldHVybiAodGhpcy5zdGFyc1tpXS5wZXJjZW50ID0gdGhpcy5jYWxjU3RhckZ1bGxuZXNzKHRoaXMuc3RhcnNbaV0pKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgc2V0Q29uZmlnRGF0YSgpIHsNCiAgICAgIGlmICh0aGlzLmNvbmZpZykgew0KICAgICAgICB0aGlzLnNldEJpbmRlZFByb3AodGhpcy5zdHlsZSwgdGhpcy5jb25maWcuc3R5bGUsICJmdWxsU3RhckNvbG9yIik7DQogICAgICAgIHRoaXMuc2V0QmluZGVkUHJvcCh0aGlzLnN0eWxlLCB0aGlzLmNvbmZpZy5zdHlsZSwgImVtcHR5U3RhckNvbG9yIik7DQogICAgICAgIHRoaXMuc2V0QmluZGVkUHJvcCh0aGlzLnN0eWxlLCB0aGlzLmNvbmZpZy5zdHlsZSwgInN0YXJXaWR0aCIpOw0KICAgICAgICB0aGlzLnNldEJpbmRlZFByb3AodGhpcy5zdHlsZSwgdGhpcy5jb25maWcuc3R5bGUsICJzdGFySGVpZ2h0Iik7DQogICAgICAgIGlmICh0aGlzLmNvbmZpZy5pc0luZGljYXRvckFjdGl2ZSkgew0KICAgICAgICAgIHRoaXMuaXNJbmRpY2F0b3JBY3RpdmUgPSB0aGlzLmNvbmZpZy5pc0luZGljYXRvckFjdGl2ZTsNCiAgICAgICAgfQ0KICAgICAgICBjb25zb2xlLmxvZygiaXNJbmRpY2F0b3JBY3RpdmU6ICIsIHRoaXMuaXNJbmRpY2F0b3JBY3RpdmUpOw0KICAgICAgfQ0KICAgIH0sDQogICAgZ2V0RnVsbEZpbGxDb2xvcihzdGFyRGF0YSkgew0KICAgICAgcmV0dXJuIHN0YXJEYXRhLnJhdyAhPT0gdGhpcy5lbXB0eVN0YXINCiAgICAgICAgPyB0aGlzLnN0eWxlLmZ1bGxTdGFyQ29sb3INCiAgICAgICAgOiB0aGlzLnN0eWxlLmVtcHR5U3RhckNvbG9yOw0KICAgIH0sDQogICAgY2FsY1N0YXJGdWxsbmVzcyhzdGFyRGF0YSkgew0KICAgICAgbGV0IHN0YXJGdWxsbmVzc1BlcmNlbnQgPSBzdGFyRGF0YS5yYXcgKiAxMDAgKyAiJSI7DQogICAgICByZXR1cm4gc3RhckZ1bGxuZXNzUGVyY2VudDsNCiAgICB9LA0KICAgIHNldEJpbmRlZFByb3AobG9jYWxQcm9wLCBwcm9wUGFyZW50LCBwcm9wVG9CaW5kKSB7DQogICAgICBpZiAocHJvcFBhcmVudFtwcm9wVG9CaW5kXSkgew0KICAgICAgICBsb2NhbFByb3BbcHJvcFRvQmluZF0gPSBwcm9wUGFyZW50W3Byb3BUb0JpbmRdOw0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLmluaXRTdGFycygpOw0KICAgIHRoaXMuc2V0U3RhcnMoKTsNCiAgICB0aGlzLnNldENvbmZpZ0RhdGEoKTsNCiAgfQ0KfTsNCg=="},{"version":3,"sources":["rating-starts.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"rating-starts.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"star-rating\">\r\n    <div v-for=\"(star, index) in stars\" :key=\"index\" class=\"star-container\">\r\n      <svg\r\n        class=\"star-svg\"\r\n        :style=\"[\r\n          { fill: `url(#gradient${star.raw})` },\r\n          { width: style.starWidth },\r\n          { height: style.starHeight }\r\n        ]\"\r\n      >\r\n        <polygon :points=\"getStarPoints\" style=\"fill-rule:nonzero;\" />\r\n        <defs>\r\n          <!--\r\n            id has to be unique to each star fullness(dynamic offset) - it indicates fullness above\r\n          -->\r\n          <linearGradient :id=\"`gradient${star.raw}`\">\r\n            <stop\r\n              id=\"stop1\"\r\n              :offset=\"star.percent\"\r\n              stop-opacity=\"1\"\r\n              :stop-color=\"getFullFillColor(star)\"\r\n            ></stop>\r\n            <stop\r\n              id=\"stop2\"\r\n              :offset=\"star.percent\"\r\n              stop-opacity=\"0\"\r\n              :stop-color=\"getFullFillColor(star)\"\r\n            ></stop>\r\n            <stop\r\n              id=\"stop3\"\r\n              :offset=\"star.percent\"\r\n              stop-opacity=\"1\"\r\n              :stop-color=\"style.emptyStarColor\"\r\n            ></stop>\r\n            <stop\r\n              id=\"stop4\"\r\n              offset=\"100%\"\r\n              stop-opacity=\"1\"\r\n              :stop-color=\"style.emptyStarColor\"\r\n            ></stop>\r\n          </linearGradient>\r\n        </defs>\r\n      </svg>\r\n    </div>\r\n    <div v-if=\"isIndicatorActive\" class=\"indicator\">{{ config.rating }}</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"stars-rating\",\r\n  components: {},\r\n  props: [\"config\"],\r\n  data: function() {\r\n    return {\r\n      stars: [],\r\n      emptyStar: 0,\r\n      fullStar: 1,\r\n      totalStars: 5,\r\n      isIndicatorActive: false,\r\n      style: {\r\n        fullStarColor: \"#ed8a19\",\r\n        emptyStarColor: \"#737373\",\r\n        starWidth: 20,\r\n        starHeight: 20\r\n      },\r\n    };\r\n  },\r\n  directives: {},\r\n  computed: {\r\n    getStarPoints: function() {\r\n      let centerX = this.style.starWidth / 2;\r\n      let centerY = this.style.starHeight / 2;\r\n\r\n      let innerCircleArms = 5; // a 5 arms star\r\n\r\n      let innerRadius = this.style.starWidth / innerCircleArms;\r\n      let innerOuterRadiusRatio = 2.5; // Unique value - determines fatness/sharpness of star\r\n      let outerRadius = innerRadius * innerOuterRadiusRatio;\r\n\r\n      return this.calcStarPoints(\r\n        centerX,\r\n        centerY,\r\n        innerCircleArms,\r\n        innerRadius,\r\n        outerRadius\r\n      );\r\n    }\r\n  },\r\n  methods: {\r\n    calcStarPoints(\r\n      centerX,\r\n      centerY,\r\n      innerCircleArms,\r\n      innerRadius,\r\n      outerRadius\r\n    ) {\r\n      let angle = Math.PI / innerCircleArms;\r\n      let angleOffsetToCenterStar = 60;\r\n\r\n      let totalArms = innerCircleArms * 2;\r\n      let points = \"\";\r\n      for (let i = 0; i < totalArms; i++) {\r\n        let isEvenIndex = i % 2 == 0;\r\n        let r = isEvenIndex ? outerRadius : innerRadius;\r\n        let currX = centerX + Math.cos(i * angle + angleOffsetToCenterStar) * r;\r\n        let currY = centerY + Math.sin(i * angle + angleOffsetToCenterStar) * r;\r\n        points += currX + \",\" + currY + \" \";\r\n      }\r\n      return points;\r\n    },\r\n    initStars() {\r\n      for (let i = 0; i < this.totalStars; i++) {\r\n        this.stars.push({\r\n          raw: this.emptyStar,\r\n          percent: this.emptyStar + \"%\"\r\n        });\r\n      }\r\n    },\r\n    setStars() {\r\n      let fullStarsCounter = Math.floor(this.config.rating);\r\n      for (let i = 0; i < this.stars.length; i++) {\r\n        if (fullStarsCounter !== 0) {\r\n          this.stars[i].raw = this.fullStar;\r\n          this.stars[i].percent = this.calcStarFullness(this.stars[i]);\r\n          fullStarsCounter--;\r\n        } else {\r\n          let surplus = Math.round((this.config.rating % 1) * 10) / 10; // Support just one decimal\r\n          let roundedOneDecimalPoint = Math.round(surplus * 10) / 10;\r\n          this.stars[i].raw = roundedOneDecimalPoint;\r\n          return (this.stars[i].percent = this.calcStarFullness(this.stars[i]));\r\n        }\r\n      }\r\n    },\r\n    setConfigData() {\r\n      if (this.config) {\r\n        this.setBindedProp(this.style, this.config.style, \"fullStarColor\");\r\n        this.setBindedProp(this.style, this.config.style, \"emptyStarColor\");\r\n        this.setBindedProp(this.style, this.config.style, \"starWidth\");\r\n        this.setBindedProp(this.style, this.config.style, \"starHeight\");\r\n        if (this.config.isIndicatorActive) {\r\n          this.isIndicatorActive = this.config.isIndicatorActive;\r\n        }\r\n        console.log(\"isIndicatorActive: \", this.isIndicatorActive);\r\n      }\r\n    },\r\n    getFullFillColor(starData) {\r\n      return starData.raw !== this.emptyStar\r\n        ? this.style.fullStarColor\r\n        : this.style.emptyStarColor;\r\n    },\r\n    calcStarFullness(starData) {\r\n      let starFullnessPercent = starData.raw * 100 + \"%\";\r\n      return starFullnessPercent;\r\n    },\r\n    setBindedProp(localProp, propParent, propToBind) {\r\n      if (propParent[propToBind]) {\r\n        localProp[propToBind] = propParent[propToBind];\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.initStars();\r\n    this.setStars();\r\n    this.setConfigData();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.star-rating {\r\n  display: flex;\r\n  align-items: center;\r\n  .star-container {\r\n    display: flex;\r\n    .star-svg {\r\n    }\r\n  }\r\n  .indicator {\r\n  }\r\n  .star-container:not(:last-child) {\r\n    margin-right: 5px;\r\n  }\r\n}\r\n</style>\r\n"]}]}